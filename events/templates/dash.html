{% extends "base.html" %}

{% block content %}
<header class="masthead text-center text-white">
  <div class="masthead-content">
    <div class="container">
      <a href="{% url 'events:create-event' %}" class="btn btn-success btn-m mx-5 rounded-pill mb-3">Create</a>
      <h4 class="masthead-heading">Dashboard</h4>
      {% if events|length > 0 %}
          <table class="table table-dark table-hover">
         <thead>
          <h3 style="color: black">My Events</h3>
          <tr>
            <th scope="col">Title</th>
            <th scope="col">Date</th>
            <th scope="col">Seats Left</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
          {% for event in events %}
          <tr>
            <th scope="row">{{event.title}}</th>
            <td>{{event.date}}</td>
            <td>{{event.seats_left}}</td>
            <td><a href="{% url 'events:event-detail' event.id %}" class="btn btn-secondary" style="background-color: yellow color: white">View</a></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      <br>
      <table class="table table-light table-hover">
  <thead>
          <h3 style="color: black">Events Attended</h3>
    <tr>
      <th scope="col">Title</th>
      <th scope="col">Date</th>
    </tr>
  </thead>
  <tbody>
    {% for event in request.user.attended.all %}
    <tr>
      <th scope="row">{{event.event.title}}</th>
      <td>{{event.event.date}}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
</div>
  </div>
  <div class="bg-circle-1 bg-circle"></div>
  <div class="bg-circle-2 bg-circle"></div>
  <div class="bg-circle-3 bg-circle"></div>
  <div class="bg-circle-4 bg-circle"></div>
</header>
      {% endif %}



{% endblock %}